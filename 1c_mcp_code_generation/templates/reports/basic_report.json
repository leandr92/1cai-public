{
  "metadata": {
    "name": "basic_report",
    "description": "Базовый шаблон отчета с использованием СКД",
    "version": "1.0.0",
    "object_type": "report",
    "complexity_level": "standard",
    "author": "TemplateLibrary",
    "created_at": "2025-10-30T09:40:34Z",
    "updated_at": "2025-10-30T09:40:34Z",
    "tags": ["basic", "report", "skd"],
    "usage_count": 0,
    "rating": 0.0,
    "dependencies": ["Система компоновки данных"],
    "requirements": ["Право на чтение данных"]
  },
  "template_content": {
    "module_object": "&НаСервере\nПроцедура СформироватьОтчет() Экспорт\n    // Создание и настройка схемы компоновки данных\n    СхемаКомпоновкиДанных = Новый СхемаКомпоновкиДанных;\n    \n    // Источник данных\n    ИсточникДанных = СхемаКомпоновкиДанных.ИсточникиДанных.Добавить();\n    ИсточникДанных.Имя = \"ИсточникДанных\";\n    ИсточникДанных.СтрокаИсточникаДанных = \"\";\n    \n    // Набор данных\n    НаборДанных = СхемаКомпоновкиДанных.НаборыДанных.Добавить(Тип(\"НаборДанныхЗапросСхемыКомпоновкиДанных\"));\n    НаборДанных.Имя = \"ОсновнойНабор\";\n    НаборДанных.ИсточникДанных = \"ИсточникДанных\";\n    \n    // TODO: Добавить текст запроса СКД\n    НаборДанных.Запрос = \"\n        |ВЫБРАТЬ\n        |    *\n        |ИЗ\n        |    Справочник.Номенклатура\";\n    \n    // Поля набора данных\n    ПолеНабора = НаборДанных.Поля.Добавить(Тип(\"ПолеНабораДанныхСхемыКомпоновкиДанных\"));\n    ПолеНабора.Имя = \"Ссылка\";\n    ПолеНабора.Заголовок = \"Ссылка\";\n    \n    ПолеНабора = НаборДанных.Поля.Добавить(Тип(\"ПолеНабораДанныхСхемыКомпоновкиДанных\"));\n    ПолеНабора.Имя = \"Наименование\";\n    ПолеНабора.Заголовок = \"Наименование\";\n    \n    // Настройки компоновщика\n    КомпоновщикНастроек.Инициализировать(Новый ИсточникДоступныхНастроекКомпоновкиДанных(СхемаКомпоновкиДанных));\n    \n    // Настройки по умолчанию\n    Настройки = КомпоновщикНастроек.ПолучитьНастройки();\n    КомпоновщикНастроек.ЗагрузитьНастройки(Настройки);\nКонецПроцедуры\n\n&НаСервере\nФункция ПолучитьМакет() Экспорт\n    Возврат ПолучитьМакет(\"Основной\");\nКонецФункции",
    "module_form": "&НаКлиенте\nПроцедура СформироватьНажатие(Кнопка)\n    // Формирование отчета\n    Состояние(\"Формирование отчета...\", 0);\n    \n    // Вызов серверной процедуры\n    Результат = ВыполнитьСервернуюПроцедуру();\n    \n    Если НЕ Результат.Выполнено Тогда\n        Сообщить(\"Ошибка формирования отчета: \" + Результат.СообщениеОбОшибке);\n    КонецЕсли;\n    \n    Состояние();\nКонецПроцедуры\n\n&НаСервере\nФункция ВыполнитьСервернуюПроцедуру() Экспорт\n    // Создание макета отчета\n    Макет = ПолучитьМакет();\n    \n    // Формирование отчета\n    Попытка\n        КомпоновщикМакет = Новый КомпоновщикМакетаКомпоновкиДанных;\n        МакетКомпоновки = КомпоновщикМакет.Выполнить(СхемаКомпоновкиДанных, КомпоновщикНастроек.Настройки);\n        \n        ПроцессорКомпоновки = Новый ПроцессорКомпоновкиДанных;\n        Результат = ПроцессорКомпоновки.Выполнить(МакетКомпоновки);\n        \n        ТабличныйДокумент.Очистить();\n        \n        ПроцессорВывода = Новый ПроцессорВыводаРезультатаКомпоновкиДанныхВТабличныйДокумент;\n        ПроцессорВывода.УстановитьТабличныйДокумент(ТабличныйДокумент);\n        ПроцессорВывода.Вывести(Результат);\n        \n        Возврат Новый Структура(\"Выполнено\", Истина);\n    Исключение\n        Сообщить(\"Ошибка: \" + ОписаниеОшибки());\n        Возврат Новый Структура(\"Выполнено,СообщениеОбОшибке\", Ложь, ОписаниеОшибки());\n    КонецПопытки;\nКонецФункции"
  },
  "form_layout": null,
  "configuration": {
    "use_skd": true,
    "default_grouping": true,
    "enable_filtering": true
  },
  "variables": {
    "object_name": {
      "description": "Имя отчета",
      "default": "МойОтчет",
      "required": true,
      "validation_pattern": "^[a-zA-Zа-яА-Я_][a-zA-Zа-яА-Я0-9_]*$",
      "example": "ОтчетПоПродажам"
    },
    "report_title": {
      "description": "Заголовок отчета",
      "default": "Основной отчет",
      "required": true,
      "validation_pattern": "^.{5,100}$",
      "example": "Отчет по продажам за период"
    },
    "data_source": {
      "description": "Источник данных для отчета",
      "default": "Справочник.Номенклатура",
      "required": true,
      "validation_pattern": "^[a-zA-Zа-яА-Я_.]+$",
      "example": "РегистрНакопления.Продажи"
    },
    "grouping_fields": {
      "description": "Поля для группировки",
      "default": "Номенклатура",
      "required": false,
      "validation_pattern": "^[^<>]*$",
      "example": "Дата, Организация, Номенклатура"
    },
    "filter_criteria": {
      "description": "Критерии фильтрации",
      "default": "Период >= ДатаНачала И Период <= ДатаОкончания",
      "required": false,
      "validation_pattern": "^[^<>]*$",
      "example": "Сумма > 0 И Количество > 0"
    }
  },
  "validation_rules": [
    "Проверить корректность запроса СКД",
    "Проверить права на чтение данных",
    "Проверить настройки компоновщика"
  ],
  "examples": [
    "Отчет по продажам с группировкой",
    "Отчет по остаткам товаров",
    "Сравнительный анализ данных"
  ]
}