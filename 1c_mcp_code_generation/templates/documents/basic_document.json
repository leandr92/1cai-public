{
  "metadata": {
    "name": "basic_document",
    "description": "Базовый шаблон документа с движением по регистрам",
    "version": "1.0.0",
    "object_type": "document",
    "complexity_level": "advanced",
    "author": "TemplateLibrary",
    "created_at": "2025-10-30T09:40:34Z",
    "updated_at": "2025-10-30T09:40:34Z",
    "tags": ["basic", "document", "movements"],
    "usage_count": 0,
    "rating": 0.0,
    "dependencies": [],
    "requirements": []
  },
  "template_content": {
    "module_object": "&НаСервере\nПроцедура ОбработкаПроведения(Отказ, Режим)\n    // Обработка проведения документа\n    // Проверки перед проведением\n    \n    // Проверка заполненности обязательных полей\n    Если ПустаяСтрока(Комментарий) Тогда\n        Сообщить(\"Комментарий обязателен для заполнения!\");\n        Отказ = Истина;\n        Возврат;\n    КонецЕсли;\n    \n    // Проверка даты документа\n    Если Дата < НачалоГода(ТекущаяДата()) Тогда\n        Сообщить(\"Дата документа не может быть ранее начала года!\");\n        Отказ = Истина;\n        Возврат;\n    КонецЕсли;\n    \n    // TODO: Добавить проверки бизнес-логики\n    \n    // Создание движений по регистрам\n    СоздатьДвижения();\n    \n    // Запись аудита\n    ЗаписатьАудитПроведения();\nКонецПроцедуры\n\n&НаСервере\nПроцедура ОбработкаУдаленияПроведения(Отказ)\n    // Обработка отмены проведения\n    \n    // Удаление движений по регистрам\n    УдалитьДвижения();\n    \n    // Запись аудита\n    ЗаписатьАудитОтменыПроведения();\nКонецПроцедуры\n\n&НаСервере\nПроцедура СоздатьДвижения()\n    // Создание движений по регистрам\n    \n    // TODO: Добавить движения по необходимым регистрам\n    // Пример для регистра сведений:\n    \n    Движения = Движения.РегистрСведений_Пример;\n    Движение = Движения.Добавить();\n    Движение.Период = Дата;\n    Движение.Измерение1 = Ссылка;\n    Движение.Ресурс1 = ЗначениеРесурса;\n    \n    // Записать движения\n    Движения.Записать();\nКонецПроцедуры\n\n&НаСервере\nПроцедура УдалитьДвижения()\n    // Удаление движений по регистрам\n    \n    // Удаляем движения по всем регистрам\n    Движения.РегистрСведений_Пример.Очистить();\n    Движения.РегистрСведений_Пример.Записать();\n    \n    // TODO: Добавить очистку движений по другим регистрам\nКонецПроцедуры\n\n&НаСервере\nПроцедура ЗаписатьАудитПроведения()\n    // Запись в журнал аудита (если используется)\n    // TODO: Реализовать запись в систему аудита\nКонецПроцедуры\n\n&НаСервере\nПроцедура ЗаписатьАудитОтменыПроведения()\n    // Запись в журнал аудита (если используется)\n    // TODO: Реализовать запись в систему аудита\nКонецПроцедуры",
    "module_form": "&НаКлиенте\nПроцедура ПровестиНажатие(Кнопка)\n    // Проведение документа\n    \n    Если Модифицированность Тогда\n        Ответ = Вопрос(\"Документ изменен. Провести и закрыть?\", РежимДиалогаВопрос.ДаНетОтмена);\n        Если Ответ = КодВозвратаДиалога.Отмена Тогда\n            Возврат;\n        ИначеЕсли Ответ = КодВозвратаДиалога.Да Тогда\n            Если НЕ Записать() Тогда\n                Возврат;\n            КонецЕсли;\n        КонецЕсли;\n    КонецЕсли;\n    \n    Попытка\n        Провести();\n        Сообщить(\"Документ проведен успешно\");\n        ОбновитьОтображениеДанных();\n    Исключение\n        Сообщить(\"Ошибка проведения: \" + ОписаниеОшибки());\n    КонецПопытки;\nКонецПроцедуры\n\n&НаКлиенте\nПроцедура ОтменитьПроведениеНажатие(Кнопка)\n    // Отмена проведения документа\n    \n    Ответ = Вопрос(\"Отменить проведение документа?\", РежимДиалогаВопрос.ДаНет);\n    Если Ответ = КодВозвратаДиалога.Нет Тогда\n        Возврат;\n    КонецЕсли;\n    \n    Попытка\n        ОтменитьПроведение();\n        Сообщить(\"Проведение документа отменено\");\n        ОбновитьОтображениеДанных();\n    Исключение\n        Сообщить(\"Ошибка отмены проведения: \" + ОписаниеОшибки());\n    КонецПопытки;\nКонецПроцедуры\n\n&НаКлиенте\nПроцедура ТабличнаяЧасть1ПриИзменении(Элемент)\n    // Обработчик изменений в табличной части\n    // TODO: Добавить обработку изменений\nКонецПроцедуры"
  },
  "form_layout": null,
  "configuration": {
    "auto_numbering": true,
    "number_series": "Документы",
    "tracking_movements": true,
    "enable_audit": true
  },
  "variables": {
    "object_name": {
      "description": "Имя документа",
      "default": "МойДокумент",
      "required": true,
      "validation_pattern": "^[a-zA-Zа-яА-Я_][a-zA-Zа-яА-Я0-9_]*$",
      "example": "ПриходТоваров"
    },
    "document_description": {
      "description": "Описание документа",
      "default": "Документ для работы с данными",
      "required": true,
      "validation_pattern": "^.{10,200}$",
      "example": "Документ для оприходования товаров на склад"
    },
    "number_series": {
      "description": "Серия нумерации",
      "default": "Документы",
      "required": false,
      "validation_pattern": "^[a-zA-Zа-яА-Я_][a-zA-Zа-яА-Я0-9_]*$",
      "example": "ПриходныеДокументы"
    },
    "table_sections": {
      "description": "Табличные части документа",
      "default": "Товары",
      "required": false,
      "validation_pattern": "^[^<>]*$",
      "example": "Товары, Услуги, Расходы"
    },
    "registers": {
      "description": "Регистры, по которым ведутся движения",
      "default": "ОстаткиТоваров",
      "required": false,
      "validation_pattern": "^[^<>]*$",
      "example": "ОстаткиТоваров, ОборотыПоПродажам"
    }
  },
  "validation_rules": [
    "Проверить заполненность обязательных реквизитов",
    "Проверить корректность даты документа",
    "Проверить корректность движений"
  ],
  "examples": [
    "Документ прихода товаров",
    "Документ списания материалов",
    "Документ корректировки данных"
  ]
}