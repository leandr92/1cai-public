# Анализ репозитория github/spec-kit

> Источник: [github/spec-kit](https://github.com/github/spec-kit)

## 1. Назначение и ключевые компоненты

-| Область | Описание |
-| --- | --- |
-| CLI-команды (`/speckit.*`) | В каталоге `scripts/` реализованы оболочки для генерации плана (`plan`), задач (`tasks`) и исполнения (`implement`). Они читают шаблоны, создают папку `specs/<feature>/` с контрактами, планом, research и задачами. |
-| Шаблоны (`templates/`) | Markdown-шаблоны для спецификации (plan, spec, tasks, CLAUDE), быстро задают структуру документации. |
-| `memory/constitution.md` | "Конституция" для AI-агентов — набор правил, которым должен следовать Claude/Copilot. |
-| Документация (`docs/`, README) | Большой гайд (>25к строк) по spec-driven development: как генерировать план, как проверять, как работать с AI. |
-| Dev контейнер и GitHub Actions | `.devcontainer`, markdownlint, scripts `check-prerequisites.sh` и проч. обеспечивают единое окружение и проверки. |

## 2. Полезные практики для 1C AI Stack

1. **Стандартизация спецификаций** — структура `specs/<id>/plan.md`, `tasks.md`, `research.md` лучше нашего разрозненного `docs/research`. Можно адаптировать шаблоны:
   - `templates/plan-template.md` → шаблон для новых фич (линковать ADR, сценарии).
   - `templates/tasks-template.md` → автоматический чек-лист для реализации.
2. **CLI для планирования** — `/speckit.plan` силён тем, что автоматизирует подготовку документов. Мы можем:
   - Создать скрипт `scripts/research/create_feature.sh`, который разворачивает директорию с нашим набором шаблонов + TODO-листом.
   - Использовать идеи `scripts/common.sh`, `setup-plan.sh`, `create-new-feature.sh` для проверки окружения.
3. **Конституция и память** — у нас есть набор "критических правил" (13+ правил). Стоит перенести их в `memory/constitution.md`, чтобы все агенты/скрипты ссылались на единый документ (аналог spec-kit).
4. **Документация по AI-процессам** — README spec-kit показывает, как подробно описывать сценарий. Мы можем расширить наш `docs/research/README_LOCAL.md` и `docs/research/bsl_language_server_plan.md` аналогично: пошаговые команды, пример задач, troubleshooting.
5. **CI-проверки** — включить markdownlint/docs workflow по аналогии с ними, чтобы контролировать крупные документы.

## 3. Риски и ограничения

- **Зависимость от внешних CLI** — spec-kit полагается на Claude/Copilot. Необходимо адаптировать скрипты для наших MCP-агентов или сделать "офлайновый" вариант.
- **Объём документации** — интеграция добавит много markdown-файлов; нужно обновлять наши правила публикации (ссылки и благодарности обязательно).
- **Дублирование с текущими скриптами** — у нас уже есть ADR/uml-генерация; нужно аккуратно объединять, чтобы не мешать нашим workflow.

## 4. Предлагаемые шаги

1. **Шаблоны**
   - Подготовить наш `templates/feature-plan.md`, `templates/feature-tasks.md` (на основе spec-kit).
   - Скрипт `scripts/research/init_feature.py` (или bash) для создания `docs/research/features/<slug>/` с заполненными шаблонами.
2. **Конституция**
   - Создать `docs/research/constitution.md`, перенести 26 правил проверки туда.
   - Добавить ссылку в README/CHANGELOG и использовать документ во всех инструкциях для агентов.
3. **CLI/Automation**
   - Добавить make-цели `make feature-plan FEATURE=...` → вызывает скрипт и создаёт структуру.
   - Включить проверку "все документы заполнены" перед merge (аналог `check-prerequisites.sh`).
4. **Интеграция AI**
   - Оценить возможность адаптации `/speckit.plan` под MCP/Claude – возможно, через наши же агенты (Future task).
5. **Документация**
   - Обновить `docs/research/README_LOCAL.md` — добавить раздел "Spec-driven workflow".
   - В CHANGELOG упомянуть заимствование практик (с благодарностью GitHub/spec-kit).

## 5. Вывод

Spec-kit — отличный ориентир для структурирования планирования и внедрения фич. Адаптация его подходов (шаблоны, конституция, CLI) даст нам:
- единый стандарт создания спецификаций;
- автоматизированный чек-лист перед разработкой;
- интеграцию правил проверки в процессы AI.

Рекомендуется реализовать предложенные шаги в ближайших спринтах и прописать их в TODO/roadmap.
