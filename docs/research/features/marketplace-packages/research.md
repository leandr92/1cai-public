# Исследование: Marketplace Packages

> Создано: 2025-11-10  
> Источники и исследования по теме.

## 1. Цель
- Проанализировать текущие состояния `onec-markdown-viewer` и `VAEditor`, определить требования к упаковке/публикации и собрать чек-лист артефактов.
- Результат — набор рекомендаций для план/спеки и конкретные шаги по автоматизации.

## 2. Входные данные и источники
- [alkoleft/onec-markdown-viewer](https://github.com/alkoleft/onec-markdown-viewer) — MIT лицензия, содержит EDT плагин + документацию (RU).
- [alkoleft/VAEditor](https://github.com/alkoleft/VAEditor) — GPLv3, набор инструментов визуальной разработки.
- `docs/research/marketplace_integration_plan.md` — наш предыдущий план.
- Marketplace API (Swagger), `src/api/marketplace.py`, `src/db/marketplace_repository.py`.
- Благодарности: @alkoleft за открытые инструменты; команда Marketplace за backend API.

## 3. Анализ
- **onec-markdown-viewer**  
  - Репозиторий активен, релизы 2025. Документация готова (README + gif).  
  - Нужно добавить структуру пакета и англоязычное описание.  
  - Размер jar < 15 МБ, подходит для Marketplace.
- **VAEditor**  
  - Лицензия GPLv3 — требуется уточнение совместимости с нашей витриной (возможно, отметка “основной код GPLv3, распространяется как open-source”).  
  - Есть wiki, но README требует актуализации.  
  - Пакет использует дополнительные сценарии — потребуется FAQ.
- **Публикационный пайплайн**  
  - `MarketplaceRepository` уже поддерживает добавление и модерацию; отсутствует CLI для загрузки архива с checksum.  
  - Требуется добавить storage-клиент (MinIO) в скрипт и шаблон `plugin.json`.
- **Медиаматериалы**  
  - У проектов есть скриншоты, но нужно выровнять размеры (1280×720) и сделать иконки 512×512.

## 4. Рекомендации
- Берём за основу `marketplace_integration_plan.md`, расширяем скриптом упаковки и документацией.  
- Для `VAEditor` подготовить disclaimer по лицензии и проверить, можно ли распространять бинарники (возможно, ссылка на сборку + инструкцию, пока без включения в коммерческий каталог).  
- Откладываем интеграцию billing (опционально).  
- Риски: лицензирование, зависимость от внешних ресурсов, размер пакета; mitigations — юридический чек, кеширование зависимостей, контроль лимитов.

## 5. Следующие шаги
- [x] Добавить задачи в `tasks.md`.
- [ ] Получить подтверждение от владельцев репозиториев (issue или письмо).
- [ ] Собрать PoC packaging и протестировать публикацию на staging Marketplace.
- [ ] Обновить plan/spec после PoC (если появятся новые требования).

## 6. Приложения
- Черновик структуры bundle: `docs/research/features/marketplace-packages/resources/bundle-structure.md` (создать при реализации).
- Ссылка на текущую vitrine staging (internal URL).

