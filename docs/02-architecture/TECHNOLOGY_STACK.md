# üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ 1C AI Stack

**–î–∞—Ç–∞:** 6 –Ω–æ—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 5.1.0  
**–°—Ç–∞—Ç—É—Å:** Production Ready

---

## üìä –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

### üêç Backend Core

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| **Python** | 3.11.x | Main backend language |
| **FastAPI** | Latest | Async REST API framework |
| **Uvicorn** | Latest | ASGI server |
| **Pydantic** | Latest | Data validation |
| **SQLAlchemy** | Latest | ORM |
| **Alembic** | Latest | DB migrations |
| **httpx** | Latest | Async HTTP client |
| **asyncio** | Built-in | Async programming |

---

### üóÑÔ∏è Databases

| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-------------|--------|------------|--------|
| **PostgreSQL** | 15 | Primary DB (metadata, users) | ‚úÖ Production |
| **Neo4j** | 5.x | Dependency graph | ‚úÖ Production |
| **Qdrant** | Latest | Vector search | ‚úÖ Production |
| **Elasticsearch** | 8.x | Full-text search, logs | ‚úÖ Production |
| **Redis** | 7 | Cache, rate limiting | ‚úÖ Production |

**Total:** 5 databases (multi-database architecture)

---

### ü§ñ AI/ML

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –°—Ç–∞—Ç—É—Å |
|-----------|------------|-----------|--------|
| **Qwen3-Coder** | BSL code generation | Ollama (local) | ‚úÖ Production |
| **GPT-4** | AI agents, analysis | OpenAI API | ‚úÖ Production |
| **Whisper** | Speech-to-Text | OpenAI API | ‚úÖ Production |
| **DeepSeek-OCR** | Document recognition (91%+) | DeepSeek API | ‚úÖ Production |
| **sentence-transformers** | Embeddings | HuggingFace | ‚úÖ Production |
| **LangChain** | AI orchestration | Open-source | ‚úÖ Production |
| **1–°:–ù–∞–ø–∞—Ä–Ω–∏–∫** | Official 1C AI | 1C (integration ready) | üöß Planned |

---

### üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------------|-----------|------------|--------|
| **Telegram Bot** | aiogram 3.4 | Main user interface | ‚úÖ Production |
| **MCP Server** | Model Context Protocol | Cursor/VSCode integration | ‚úÖ Production |
| **EDT Plugin** | Eclipse RCP, Java 17+ | Eclipse integration | ‚úÖ Beta (95%) |
| **REST API** | FastAPI | External integrations | ‚úÖ Production |
| **WebSocket** | FastAPI WebSocket | Real-time updates | ‚úÖ Production |

---

### ‚ö° Code Execution (NEW! Nov 6, 2025)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|-----------|------------|--------|
| **Deno Runtime** | Deno Latest | Sandboxed execution | ‚úÖ NEW! |
| **TypeScript** | Latest | Execution language | ‚úÖ NEW! |
| **Execution Harness** | Deno + TypeScript | Secure code execution | ‚úÖ NEW! |
| **PII Tokenizer** | Python | 152-–§–ó compliance | ‚úÖ NEW! |
| **Skills Manager** | TypeScript | Agent learning | ‚úÖ NEW! |

**Benefits:**
- 98.7% token savings
- 70% latency reduction
- PII protection
- Progressive disclosure

---

### üé´ ITSM/ITIL (Planned - Nov 6, 2025)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|-----------|------------|--------|
| **Service Desk** | Telegram + Ticketing | Single point of contact | üìã Planned |
| **Ticketing System** | Jira SD / Freshdesk / Zammad | Incident tracking | üìã Planned |
| **Knowledge Base** | Confluence / GitBook | Self-service | üìã Planned |
| **Monitoring** | Prometheus + Grafana | SLA tracking | ‚úÖ Ready |

---

### üõ†Ô∏è DevOps & Infrastructure

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|------------|--------|
| **Docker** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | ‚úÖ Production |
| **Docker Compose** | Local development | ‚úÖ Production |
| **Kubernetes** | Production orchestration | ‚úÖ Ready |
| **GitHub Actions** | CI/CD pipelines | ‚úÖ Production |
| **Prometheus** | Metrics collection | ‚úÖ Production |
| **Grafana** | Dashboards | ‚úÖ Production |
| **ELK Stack** | Centralized logging | ‚úÖ Production |
| **Jaeger** | Distributed tracing | üöß Planned |

---

### üì¶ Frontend

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|------------|--------|
| **React** | Web portal | üöß Beta |
| **TypeScript** | Type safety | ‚úÖ Production |
| **Vite** | Build tool | ‚úÖ Production |
| **Tailwind CSS** | Styling | ‚úÖ Production |

---

## üîß Development Tools

### Code Quality
- **black** - code formatting
- **isort** - import sorting
- **flake8** - linting
- **mypy** - type checking
- **pytest** - testing
- **coverage** - code coverage

### Analysis
- **SonarQube** - code analysis
- **EDT-Parser** - 1C configuration parsing - NEW!
- **ML Dataset Generator** - training data - NEW!

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—Ç–µ–∫–∞

### –Ø–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:
- Python: **~50,000 LOC**
- TypeScript: **~2,500 LOC** (NEW!)
- Java: **~1,000 LOC** (EDT Plugin)
- BSL: –ü—Ä–∏–º–µ—Ä—ã –∏ templates

### Dependencies:
- Python packages: **~80**
- npm packages: **~30**
- Docker images: **18**
- Kubernetes manifests: **10**

### Services (production):
- Core services: **8**
- Databases: **5**
- Monitoring: **5**
- Total: **18 Docker services**

---

## üí∞ Cost Optimization

### Self-Hosted vs Cloud

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | Self-Hosted | Cloud Alternative | –≠–∫–æ–Ω–æ–º–∏—è/–º–µ—Å—è—Ü |
|-----------|-------------|-------------------|----------------|
| PostgreSQL | $0 | AWS RDS: $50-200 | $50-200 |
| Neo4j | $0 | Neo4j Aura: $200-500 | $200-500 |
| Qdrant | $0 | Pinecone: $70-200 | $70-200 |
| Elasticsearch | $0 | Elastic Cloud: $100-300 | $100-300 |
| AI Models | Ollama $0 | OpenAI only: $500-1000 | $500-1000 |

**Total savings:** ~$920-2200/–º–µ—Å—è—Ü = **$11K-26K/–≥–æ–¥**

### Code Execution Savings (NEW!)
- Token cost reduction: **98.7%**
- Savings: **$53K/–≥–æ–¥** (–ø—Ä–∏ 10K requests/–¥–µ–Ω—å)

---

## üîÑ Technology Evolution

### Recent Additions (Nov 2025):

**6 –Ω–æ—è–±—Ä—è 2025:**
- ‚úÖ Deno Runtime (code execution)
- ‚úÖ Code Execution Harness
- ‚úÖ PII Tokenizer (152-–§–ó)
- ‚úÖ Skills System
- ‚úÖ ITIL Analysis & Planning

**5 –Ω–æ—è–±—Ä—è 2025:**
- ‚úÖ EDT-Parser (6,708 objects parsed)
- ‚úÖ ML Dataset Generator (24K+ examples)
- ‚úÖ Analysis & Audit tools

**4 –Ω–æ—è–±—Ä—è 2025:**
- ‚úÖ Voice Queries (Whisper)
- ‚úÖ Multi-language (RU + EN)
- ‚úÖ Marketplace API

### Deprecated:
- ‚ùå PyPy Sandbox (replaced by Deno)
- ‚ùå MongoDB (not used)

---

## üéØ Technology Choices Rationale

### Why PostgreSQL?
- ‚úÖ Proven reliability
- ‚úÖ JSON support
- ‚úÖ Strong ACID
- ‚úÖ Open-source

### Why Neo4j?
- ‚úÖ Best-in-class graph DB
- ‚úÖ Cypher query language
- ‚úÖ Excellent visualization
- ‚úÖ 1C dependency graphs perfect fit

### Why Qdrant?
- ‚úÖ Rust-based (fast!)
- ‚úÖ Easy deployment
- ‚úÖ Python SDK
- ‚úÖ Open-source

### Why Deno (NEW!)?
- ‚úÖ Built-in security (permissions)
- ‚úÖ TypeScript native
- ‚úÖ Modern runtime
- ‚úÖ Perfect –¥–ª—è sandboxing

### Why FastAPI?
- ‚úÖ Async by default
- ‚úÖ Auto OpenAPI docs
- ‚úÖ High performance
- ‚úÖ Type hints

---

## üîó External Dependencies

### Required APIs:
- OpenAI API (GPT-4, Whisper) - optional, –º–æ–∂–Ω–æ Ollama
- 1C:–ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–µ–≥–∞–ª—å–Ω–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è

### Optional APIs:
- Chandra OCR
- GitHub API (for CI/CD)
- Telegram Bot API

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

- [Architecture Overview](./ARCHITECTURE_OVERVIEW.md)
- [Implementation Plan](IMPLEMENTATION_PLAN.md)
- [ADR](./adr/) - Architecture Decision Records

---

**–°–æ–∑–¥–∞–Ω–æ:** 6 –Ω–æ—è–±—Ä—è 2025  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 6 –Ω–æ—è–±—Ä—è 2025  
**Next Review:** –î–µ–∫–∞–±—Ä—å 2025
