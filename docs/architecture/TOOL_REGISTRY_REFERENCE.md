# üß∞ Tool / Skill Registry (Reference)

> –°—Ç–∞—Ç—É—Å: —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π reference-–¥–æ–∫—É–º–µ–Ω—Ç.  
> –¶–µ–ª—å: –æ–ø–∏—Å–∞—Ç—å –µ–¥–∏–Ω—ã–π —Å–ª–æ–π –æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤/skills –ø–æ–≤–µ—Ä—Ö —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤
> (HTTP, MCP, —Å–∫—Ä–∏–ø—Ç—ã), —á—Ç–æ–±—ã Orchestrator –∏ Scenario Hub –º–æ–≥–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º–∏
> —á–µ—Ä–µ–∑ –æ–±—â—É—é –º–æ–¥–µ–ª—å.

---

## 1. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω —Ä–µ–µ—Å—Ç—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–°–µ–≥–æ–¥–Ω—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ skills "—Ä–∞–∑–º–∞–∑–∞–Ω—ã" –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å–ª–æ—è–º:

- HTTP API (FastAPI endpoints),
- MCP-tools (–æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ MCP —Å–µ—Ä–≤–µ—Ä–µ),
- —Å–∫—Ä–∏–ø—Ç—ã –∏ runbooks (`scripts/*`),
- internal skills –≤ execution-env.

–î–ª—è Orchestrator, BA/Dev/QA/DevOps –∞–≥–µ–Ω—Ç–æ–≤ –∏ Scenario Hub –ø–æ–ª–µ–∑–Ω–æ –∏–º–µ—Ç—å
**–µ–¥–∏–Ω—ã–π —Ä–µ–µ—Å—Ç—Ä**, –≥–¥–µ:

- –∫–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–ø–∏—Å–∞–Ω –æ–¥–∏–Ω–∞–∫–æ–≤–æ (id, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ä–∏—Å–∫, —Å—Ö–µ–º–∞ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞),
- —É–∫–∞–∑–∞–Ω–æ, —á–µ—Ä–µ–∑ –∫–∞–∫–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –µ–≥–æ –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å (HTTP, MCP, CLI),
- –∑–∞–¥–∞–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ SLO (latency, —Å—Ç–æ–∏–º–æ—Å—Ç—å, –æ–∫—Ä—É–∂–µ–Ω–∏—è),
- –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫ LLM).

---

## 2. –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã (src/ai/tool_registry.py)

–í `src/ai/tool_registry.py` –æ–ø–∏—Å–∞–Ω —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–ª–æ–π —Ç–∏–ø–æ–≤:

- `ToolProtocol` ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤: `http`, `mcp`, `cli`, `script`.
- `ToolCategory` ‚Äî –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: `analysis`, `ba`, `dev`, `qa`,
  `devops`, `dr`, `security`, `other`.
- `ToolEndpoint` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–æ—á–∫–∏ –≤—ã–∑–æ–≤–∞:
  - HTTP: –º–µ—Ç–æ–¥/URL/–æ–∂–∏–¥–∞–µ–º—ã–µ —Å—Ç–∞—Ç—É—Å—ã;
  - MCP: –∏–º—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ tool;
  - CLI/script: –ø—É—Ç—å –¥–æ —Å–∫—Ä–∏–ø—Ç–∞ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã.
- `ToolDescriptor` ‚Äî —è–¥—Ä–æ –æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:
  - id, display_name, category, risk (`ScenarioRiskLevel`),
  - –æ–ø–∏—Å–∞–Ω–∏—è, —Å—Ö–µ–º—ã –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ –∫–∞–∫ dict),
  - —Å–ø–∏—Å–æ–∫ endpoints –ø–æ —Ä–∞–∑–Ω—ã–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º,
  - cost_model (latency/tokens/—Å—Ç–æ–∏–º–æ—Å—Ç—å),
  - tags –∏ docs (—Å—Å—ã–ª–∫–∏ –Ω–∞ README/guides/ADR).
- `ToolUsageExample` ‚Äî –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (input/output + –æ–ø–∏—Å–∞–Ω–∏–µ),
  –ø—Ä–∏–≥–æ–¥–Ω—ã–π –¥–ª—è –±—É–¥—É—â–µ–≥–æ semantic index.
- `ToolRegistry` ‚Äî –ø—Ä–æ—Å—Ç–∞—è in-memory —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
  - `register_tool`, `get_tool`, `list_tools(...)`,
  - `add_usage_example`, `list_usage_examples(...)`.

–ù–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ —ç—Ç–æ **—Ä–µ—Ñ–µ—Ä–µ–Ω—Å-—Å–ª–æ–π**, –æ–Ω –Ω–µ –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ FastAPI –∏–ª–∏ MCP.

---

## 3. –°–≤—è–∑—å —Å Scenario Hub –∏ Orchestrator

ToolRegistry –∑–∞–¥—É–º–∞–Ω –∫–∞–∫ –æ–±—â–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è:

- Scenario Hub:
  - –ø—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –º–æ–∂–Ω–æ —è–≤–Ω–æ –≤–∏–¥–µ—Ç—å, –∫–∞–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã,
  - —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –∏—Ö –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ —É—Ä–æ–≤–Ω—é —Ä–∏—Å–∫–∞,
  - –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫ —à–∞–≥–∞–º –ø–ª–µ–π–±—É–∫–æ–≤.
- Orchestrator:
  - –≤–º–µ—Å—Ç–æ –∂—ë—Å—Ç–∫–æ –∑–∞—à–∏—Ç—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ ToolRegistry,
  - –≤—ã–±–∏—Ä–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª (HTTP/MCP/CLI) –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ SLO,
  - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å usage-–ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è prompt'–æ–≤ –∫ LLM.

–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:

- —Ö—Ä–∞–Ω–µ–Ω–∏–µ ToolDescriptor/ToolUsageExample –≤ –ë–î (PostgreSQL/Neo4j),
- semantic index usage-–ø—Ä–∏–º–µ—Ä–æ–≤ (Qdrant),
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º,
- read-only API –ø–æ–≤–µ—Ä—Ö ToolRegistry (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä —É–∂–µ
  —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ `/api/tools/registry/examples` –≤ `src/ai/orchestrator.py`,
  –∏—Å–ø–æ–ª—å–∑—É—è descriptors –∏–∑ `src/ai/tool_registry_examples.py`).

---

## 4. –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è MCP-free / multi-protocol –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

–ü–µ—Ä–µ—Ö–æ–¥ –∫ ToolRegistry –¥–∞—ë—Ç:

- **–ü—Ä–æ—Ç–æ–∫–æ–ª-–∞–≥–Ω–æ—Å—Ç–∏—á–Ω—ã–π —Å–ª–æ–π** ‚Äî MCP —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤,
  –∞ –Ω–µ —Ü–µ–Ω—Ç—Ä–æ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã;
- **–£–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Ä–∏—Å–∫** ‚Äî –∫–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–º–µ–µ—Ç —è–≤–Ω—ã–π ScenarioRiskLevel,
  —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç Orchestrator –∏ –ø–æ–ª–∏—Å–∞–º —Å—Ç—Ä–æ–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã;
- **–õ—É—á—à–µ–µ UX –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤/LLM** ‚Äî –º–æ–∂–Ω–æ –≤—ã–¥–∞–≤–∞—Ç—å –∞–≥–µ–Ω—Ç–∞–º –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π
  —Å–ø–∏—Å–æ–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ usage-–ø—Ä–∏–º–µ—Ä–æ–≤ –≤–º–µ—Å—Ç–æ "–∑–æ–æ–ø–∞—Ä–∫–∞".

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –Ω–µ –º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞, –Ω–æ –∑–∞–¥–∞—ë—Ç —Ñ–æ—Ä–º—É,
–∫—É–¥–∞ –º–æ–∂–Ω–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π.


