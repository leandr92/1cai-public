# Конфигурация системы тестирования MCP инструментов

## Общие настройки

```
[General]
# Версия конфигурации тестирования
Version = 1.0
Created = 2025-10-29
Author = MCP Testing Team

# Основные параметры
TestTimeout = 30000
MaxParallelTests = 5
LogLevel = INFO
OutputFormat = CONSOLE
```

## Настройки тестовых данных

```
[TestData]
# Пути к тестовым файлам
TempFilesPath = temp/
TestConfigPath = tests/config/
MockDataPath = tests/mock/

# Параметры генерации данных
AutoGenerateTestData = true
TestDataRetentionDays = 7
EnableDataCleanup = true

# Размеры тестовых данных
SmallFileSize = 1024
MediumFileSize = 10240
LargeFileSize = 102400
HugeFileSize = 1048576
```

## Настройки производительности

```
[Performance]
# Лимиты времени выполнения (в миллисекундах)
UnitTestTimeout = 5000
IntegrationTestTimeout = 30000
EndToEndTestTimeout = 60000

# Критические времена (для предупреждений)
CriticalUnitTime = 1000
CriticalIntegrationTime = 5000
CriticalEndToEndTime = 30000

# Параметры нагрузочного тестирования
LoadTestIterations = 10
StressTestDuration = 60000
MemoryTestThreshold = 100
```

## Настройки покрытия кода

```
[Coverage]
# Целевые показатели покрытия
TargetLineCoverage = 90
TargetBranchCoverage = 85
TargetFunctionCoverage = 95

# Исключения из покрытия
ExcludePatterns = *.epf,*.erf,tests/**
IncludePatterns = *.bsl,*.xml

# Минимальное покрытие для прохождения сборки
MinimumLineCoverage = 80
MinimumBranchCoverage = 75
```

## Настройки отчетности

```
[Reporting]
# Форматы отчетов
EnableHTMLReport = true
EnableXMLReport = true
EnableJSONReport = true
EnableConsoleOutput = true

# Настройки HTML отчета
HTMLReportTitle = MCP Instruments Test Report
IncludeScreenshots = false
IncludePerformanceCharts = true
IncludeCoverageMetrics = true

# Настройки XML отчета
JUnitXMLPath = test-results.xml
IncludeSystemInfo = true
IncludeEnvironmentDetails = false

# Пути сохранения
ReportsPath = tests/reports/
ScreenshotsPath = tests/screenshots/
LogsPath = tests/logs/
```

## Настройки CI/CD

```
[CI/CD]
# Поддерживаемые системы
SupportedCI = GitLab,Jenkins,GitHubActions,TeamCity

# Автоматические триггеры
TriggerOnCommit = true
TriggerOnMergeRequest = true
TriggerOnSchedule = false
ScheduleExpression = 0 2 * * *

# Параметры качества кода
MinimumSuccessRate = 95
MaximumFlakinessRate = 2
EnableQualityGates = true
```

## Настройки инструментов

```
[Instruments]
# mcp_ИнструментДанныеОКонфигурации
TestDataAboutConfig = enabled
TestMetadataList = enabled
TestMetadataStructure = enabled
TestPerformance = enabled
TestCaching = enabled

# mcp_ИнструментСписокКаталогов  
TestListCatalogs = planned
TestFilterCatalogs = planned
TestCatalogStructure = planned

# mcp_ИнструментЧтениеФайла
TestReadTextFile = planned
TestReadBinaryFile = planned
TestReadWithEncoding = planned
TestReadLargeFile = planned

# mcp_ИнструментЗаписьФайла
TestWriteFile = planned
TestAppendFile = planned
TestWriteWithEncoding = planned
TestWriteLargeFile = planned

# mcp_ИнструментПолучениеДанныхОБазе
TestDatabaseInfo = planned
TestListTables = planned
TestTableInfo = planned
TestDatabaseStats = planned
```

## Настройки кэширования

```
[Caching]
# Включение тестирования кэша
TestCacheEnabled = true

# Параметры тестирования
CacheHitRatioThreshold = 80
CacheMissPenalty = 200
CacheSizeLimit = 1000

# Время жизни кэша (секунды)
DefaultCacheTTL = 3600
PerformanceCacheTTL = 300
MetadataCacheTTL = 1800
```

## Настройки логирования

```
[Logging]
# Уровни логирования
ConsoleLevel = INFO
FileLevel = DEBUG
NetworkLevel = WARNING

# Форматы логирования
TimestampFormat = YYYY-MM-DD HH:MM:SS
IncludeThreadInfo = true
IncludeMemoryInfo = false

# Ротация логов
MaxLogSize = 10MB
MaxLogFiles = 5
CompressOldLogs = true
```

## Настройки безопасности

```
[Security]
# Ограничения для тестов
MaxFileSize = 100MB
MaxStringLength = 10000
MaxArraySize = 1000

# Безопасные операции
EnableFileOperations = false
EnableNetworkOperations = false
EnableDatabaseWrite = false

# Маскирование чувствительных данных
MaskPasswords = true
MaskTokens = true
MaskConnections = true
```

## Настройки интеграции

```
[Integration]
# Внешние системы для интеграции
SonarQube = false
JIRA = false
Slack = false
Email = false

# API endpoints
SonarQubeURL = http://localhost:9000
JIRAServerURL = https://company.atlassian.net
SlackWebhookURL = https://hooks.slack.com/...
EmailSMTPServer = smtp.company.com

# Токены аутентификации
SonarQubeToken = ${SONAR_TOKEN}
JIRAToken = ${JIRA_TOKEN}
SlackToken = ${SLACK_TOKEN}
```

## Переменные окружения

```
[Environment]
# Тестовые окружения
TEST_ENVIRONMENT = development
TEST_DATABASE = test_db
TEST_SERVER = localhost

# Пути к исполняемым файлам
V8EXE_PATH = C:\Program Files\1cv8\8.3.XX\bin\1cv8.exe
TESTSrunner_PATH = tools\xunitfor1c\runtests.bat

# Сетевые настройки
TEST_TIMEOUT = 30000
TEST_RETRIES = 3
TEST_DELAY = 1000
```

## Настройки уведомлений

```
[Notifications]
# Email настройки
EnableEmailNotifications = false
EmailFrom = tests@company.com
EmailTo = developers@company.com
EmailSubjectPrefix = [MCP Tests]

# Slack настройки
EnableSlackNotifications = false
SlackChannel = #mcp-testing
SlackUsername = MCP Test Bot

# Правила уведомлений
NotifyOnFailure = true
NotifyOnSuccess = false
NotifyOnPerformanceRegression = true
NotifyOnCoverageDrop = true
```

## Настройки тестовых сценариев

```
[TestScenarios]
# Автоматические сценарии
AutoSmokeTest = true
AutoRegressionTest = true
AutoPerformanceTest = true

# Критерии для автоматических сценариев
SmokeTestTimeLimit = 300
RegressionTestCoverageThreshold = 90
PerformanceTestMaxDeviation = 10

# Приоритеты тестов
PriorityCritical = 1
PriorityHigh = 2
PriorityMedium = 3
PriorityLow = 4
```

---

## Использование конфигурации

Конфигурация загружается автоматически при запуске тестов. Для изменения настроек:

1. Отредактируйте соответствующие секции
2. Сохраните файл
3. Перезапустите тестовую обработку

Поддерживается переопределение через переменные окружения:
```bash
export MCP_TEST_TIMEOUT=60000
export MCP_LOG_LEVEL=DEBUG
```

---

*Конфигурация обновлена: 2025-10-29*
*Версия: 1.0*
