# Переменные окружения для AI-ассистентов
# Скопируйте этот файл в .env и заполните реальными значениями

# ===========================================
# OpenAI API Configuration
# ===========================================
# Получить API ключ можно на https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# ===========================================
# Supabase Configuration
# ===========================================
# Создайте проект на https://supabase.com и получите данные подключения
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_KEY=your-supabase-anon-key-here

# ===========================================
# Database Configuration
# ===========================================
# Подключение к PostgreSQL (Supabase PostgreSQL)
DATABASE_URL=postgresql://postgres:[password]@db.[project-id].supabase.co:5432/postgres

# ===========================================
# Redis Configuration
# ===========================================
# Для локального development
REDIS_URL=redis://localhost:6379/0

# ===========================================
# Application Configuration
# ===========================================
# Режим работы: development или production
ENVIRONMENT=development

# Секретный ключ для JWT токенов (генерируйте случайную строку)
SECRET_KEY=your-very-secret-key-change-this-in-production

# Временная зона
TIMEZONE=Europe/Moscow

# ===========================================
# Monitoring and Logging
# ===========================================
# Пароль администратора Grafana
GRAFANA_PASSWORD=admin

# Уровень логирования: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ===========================================
# AI Model Configuration
# ===========================================
# Модель OpenAI для использования
OPENAI_MODEL=gpt-4-turbo-preview

# Температура для генерации (0.0-2.0)
AI_TEMPERATURE=0.7

# Максимальное количество токенов в ответе
AI_MAX_TOKENS=2000

# ===========================================
# Vector Store Configuration
# ===========================================
# Настройки векторного хранилища в Supabase
VECTOR_STORE_TABLE_NAME=knowledge_base
VECTOR_STORE_SIMILARITY_THRESHOLD=0.7

# ===========================================
# Security Configuration
# ===========================================
# Разрешенные домены для CORS
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080", "https://yourdomain.com"]

# Доверенные хосты для FastAPI
TRUSTED_HOSTS=["localhost", "127.0.0.1", "yourdomain.com"]

# ===========================================
# Rate Limiting
# ===========================================
# Лимиты запросов (в минуту)
RATE_LIMIT_PER_MINUTE=60

# ===========================================
# Celery Configuration
# ===========================================
# Брокер для Celery (Redis)
CELERY_BROKER_URL=redis://redis:6379/0

# Результаты Celery
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ===========================================
# Email Configuration (опционально)
# ===========================================
# Для уведомлений по email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_USE_TLS=true

# ===========================================
# 1C Integration (опционально)
# ===========================================
# Настройки интеграции с 1С
# 1C_DATABASE_URL=http://your-1c-server/your-db
# 1C_USERNAME=admin
# 1C_PASSWORD=password

# ===========================================
# Development Configuration
# ===========================================
# Для development режима
DEBUG=true
AUTO_RELOAD=true

# Тестовые данные
TEST_USER_ID=test-user-123
TEST_PROJECT_ID=test-project-456

# ===========================================
# Machine Learning Configuration
# ===========================================
# MLflow Tracking URI
MLFLOW_TRACKING_URI=http://localhost:5000

# MLflow Backend Store
MLFLOW_BACKEND_STORE_URI=sqlite:///mlflow.db

# MLflow Artifacts Root
MLFLOW_ARTIFACT_ROOT=/mlflow/artifacts

# ML Model Storage
MODELS_STORAGE_PATH=/app/models

# Training Data Storage
TRAINING_DATA_PATH=/app/data

# ===========================================
# ML Training Configuration
# ===========================================
# Размер batch для обучения
TRAINING_BATCH_SIZE=32

# Количество epochs для обучения
TRAINING_EPOCHS=100

# Learning rate для моделей
LEARNING_RATE=0.001

# Типы ML моделей по умолчанию
DEFAULT_MODEL_TYPE=sklearn

# Папка для сохранения обученных моделей
MODELS_DIR=/app/models

# ===========================================
# A/B Testing Configuration
# ===========================================
# Уровень значимости для A/B тестов
AB_TEST_SIGNIFICANCE_LEVEL=0.05

# Минимальный размер выборки для A/B тестов
AB_TEST_MIN_SAMPLE_SIZE=100

# Продолжительность A/B тестов в днях
AB_TEST_DURATION_DAYS=7

# ===========================================
# Metrics and Monitoring
# ===========================================
# Интервал сбора метрик (в минутах)
METRICS_COLLECTION_INTERVAL=60

# Период хранения метрик (в днях)
METRICS_RETENTION_DAYS=30

# Порог качества моделей для переобучения
MODEL_QUALITY_THRESHOLD=0.7

# ===========================================
# Feature Engineering
# ===========================================
# Размер окна для Feature Store
FEATURE_STORE_WINDOW_HOURS=24

# Количество фичей для отбора
MAX_FEATURE_COUNT=50

# Метод нормализации данных
NORMALIZATION_METHOD=standard

# ===========================================
# Hyperparameter Optimization
# ===========================================
# Количество trials для Optuna
HYPERPARAMETER_TRIALS=100

# Направление оптимизации (maximize/minimize)
OPTIMIZATION_DIRECTION=maximize

# ===========================================
# Model Deployment
# ===========================================
# Режим развертывания моделей
DEPLOYMENT_MODE=staged

# API версия для ML моделей
ML_API_VERSION=v1

# Таймаут предсказаний (в секундах)
PREDICTION_TIMEOUT=30

# ===========================================
# Development and Debugging
# ===========================================
# Включить MLflow UI
ENABLE_MLFLOW_UI=true

# Включить детализированное логирование ML
ML_DEBUG_LOGGING=false

# Включить профилирование моделей
ENABLE_MODEL_PROFILING=false

# Jupyter Notebook Token (оставьте пустым для автогенерации)
JUPYTER_TOKEN=

# ===========================================
# Security for ML System
# ===========================================
# Секретный ключ для ML системы
ML_SECRET_KEY=your-ml-secret-key-change-this

# Разрешенные пользователи для доступа к ML API
ML_ALLOWED_USERS=admin,ml_operator

# Максимальный размер данных для обучения (MB)
MAX_TRAINING_DATA_SIZE_MB=1000

# ===========================================
# Background Tasks Configuration
# ===========================================
# Максимальное количество concurrent ML задач
MAX_CONCURRENT_TASKS=4

# Таймаут для долгих задач обучения (в минутах)
LONG_TASK_TIMEOUT_MINUTES=120

# Период проверки модели на дрейф (в часах)
MODEL_DRIFT_CHECK_HOURS=24